/**
 * @param { import("knex").Knex } knex
 * @returns { Promise<void> }
 */

exports.seed = async function (knex) {
  // Deletes ALL existing entries
  await knex("booking").del();

  // Fetch all user IDs from the users table
  const users = await knex("users").select("id");

  if (users.length === 0) {
    console.error("No users found! Ensure you have users in the database.");
    return;
  }

  // Map users to make assignments easier
  const userIdList = users.map((user) => user.id);

  await knex("booking").insert([
    {
      user_id: userIdList[1],
      studio_id: 1,
      date: new Date("2025-01-06"),
      start_time: "10:00",
      end_time: "11:00",
      status: "confirmed",
      price: 100,
      whatsapp: "+85298765432",
      remarks: "可唔可以幫我set up一條Hammock。",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[4],
      studio_id: 1,
      date: new Date("2025-01-06"),
      start_time: "14:00",
      end_time: "15:00",
      status: "confirmed",
      price: 100,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[5],
      studio_id: 1,
      date: new Date("2025-01-07"),
      start_time: "10:00",
      end_time: "11:00",
      status: "confirmed",
      price: 100,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[1],
      studio_id: 1,
      date: new Date("2025-01-07"),
      start_time: "15:00",
      end_time: "16:00",
      status: "confirmed",
      price: 100,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[4],
      studio_id: 1,
      date: new Date("2025-01-08"),
      start_time: "09:00",
      end_time: "10:00",
      status: "confirmed",
      price: 120,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: true,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[5],
      studio_id: 1,
      date: new Date("2025-01-10"),
      start_time: "13:00",
      end_time: "14:00",
      status: "confirmed",
      price: 120,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[1],
      studio_id: 1,
      date: new Date("2025-01-13"),
      start_time: "16:00",
      end_time: "17:00",
      status: "confirmed",
      price: 120,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[4],
      studio_id: 2,
      date: new Date("2025-01-10"),
      start_time: "12:00",
      end_time: "13:00",
      status: "confirmed",
      price: 80,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[5],
      studio_id: 2,
      date: new Date("2025-01-09"),
      start_time: "11:00",
      end_time: "12:00",
      status: "confirmed",
      price: 80,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[1],
      studio_id: 2,
      date: new Date("2025-01-08"),
      start_time: "10:00",
      end_time: "11:00",
      status: "confirmed",
      price: 80,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[4],
      studio_id: 2,
      date: new Date("2025-01-15"),
      start_time: "14:00",
      end_time: "15:00",
      status: "confirmed",
      price: 100,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[5],
      studio_id: 3,
      date: new Date("2025-01-08"),
      start_time: "09:00",
      end_time: "10:00",
      status: "confirmed",
      price: 120,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: true,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[1],
      studio_id: 3,
      date: new Date("2025-01-06"),
      start_time: "11:00",
      end_time: "12:00",
      status: "confirmed",
      price: 200,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[4],
      studio_id: 3,
      date: new Date("2025-01-10"),
      start_time: "15:00",
      end_time: "16:00",
      status: "confirmed",
      price: 200,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[5],
      studio_id: 4,
      date: new Date("2025-01-03"),
      start_time: "13:00",
      end_time: "14:00",
      status: "confirmed",
      price: 120,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: true,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
    {
      user_id: userIdList[1],
      studio_id: 4,
      date: new Date("2025-01-09"),
      start_time: "09:00",
      end_time: "10:00",
      status: "confirmed",
      price: 200,
      whatsapp: "+85298765432",
      remarks: "",
      is_complaint: false,
      stripe_payment_id: "pi_3QOf4WE9TWOIiP7J007pRGwF",
    },
  ]);
};
